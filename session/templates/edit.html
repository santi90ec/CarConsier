{% extends 'masterSession.html' %}
{% load static %}
<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Luis Bone, Francisco Chango, Andres Atapuma">
    <meta name="keywords" content="CarConsierge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <title>Edit User</title>
</head>

<body class="body">
    <div class="container"> -->
        {% block container %}
        <div class='header'>
            <div class='header-box-left'>
                <h3>Hello, {{userRecord.first_name}} {{userRecord.last_name}}</h3>
            </div>
            <div class='header-box-right'>
                <a class="btn btn-info" href="/dashboard">Dashboard</a> |
                <a class="btn btn-danger" href="/close">Log Out</a>
            </div>
        </div>
        <div class="main">
            <div class="box-registration">
                <h4>Edit User</h4>
                <form novalidate action="/update" method="post">
                    {% csrf_token %}
                    <input type="hidden" name="user_id" id="user_id" value="{{ this_user.id }}">
                    <input type="hidden" name="user_email" id="user_email" value="{{ this_user.email }}">
                    <br>
                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th width=30%></th>
                                <th width=70%></th>
                            </tr>
                        </thead>
                        <tr>
                            <td><label for="name">First Name:</label></td>
                            <td><input type="text" id="first_name" name="first_name" value="{{ this_user.first_name }}"></td>
                        </tr>
                        <tr>
                            <td><label for="name">Last Name:</label></td>
                            <td><input type="text" id="last_name" name="last_name" value="{{ this_user.last_name }}"></td>
                        </tr>
                        <tr>
                            <td><label for="name">Email:</label></td>
                            <td><input type="text" id="email" name="email" value="{{ this_user.email }}"></td>
                        </tr>
                        <tr>
                            <td><label for="name">Phone:</label></td>
                            <td><input type="text" id="phone" name="phone" value="{{ this_user.phone }}"></td>
                        </tr>
                        <tr>
                            <td><label for="name">Password:</label></td>
                            <td><input type="password" id="password" name="password"></td>
                        </tr>
                        <tr>
                            <td><label for="name">Confirm:</label></td>
                            <td><input type="password" id="confirm" name="confirm"></td>
                        </tr>
                        <tr>
                            <td><label for="level">Level:</label></td>
                            <td><select name="level" id="level">
                                <option value="1">Admin</option>
                                <option value="2">Operator</option>
                            </select>
                                <script>
                                    var obj = document.getElementById("level");
                                    for (var i = 0; i < obj.length; i++) {
                                        if (obj.options[i].value === "{{ this_user.level }}")
                                            obj.selectedIndex = i;
                                    }
                                </script>
                            </td>
                        </tr>
                    </table>
                    <br>
                    <br>
                    <button class="btn btn-primary btn-lg btn-block" type='submit' id='btn-register'>Update</button>
                    <a class="btn btn-sm btn-danger" href="/view"><i class="icon-flag icon-2x pull-left"></i>Cancel</a>
                </form>
                {% if messages %} {% for message in messages %}
                <ul>
                    <li class="text-danger">{{message}}</li>
                </ul>
                {% endfor %} {% endif %}
            </div>
        </div>
        <div class="foot">
        </div>
    {% endblock %}
    <!-- </div>
</body>

</html> -->